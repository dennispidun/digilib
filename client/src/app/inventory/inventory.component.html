<div class="page">
  <h1>
    Willkommen, Max Mustermann!
  </h1>

  <input type="text" class="form-control" placeholder="ISBN/Inventar-Nr." #search>

  <div class="table-actions">
    <nav class="pagecontroller" *ngIf="nextBooks.length > 0 || pageNo > 0">
      <ul class="pagination">
        <li class="page-item" [ngClass]="pageNo == 0 && 'disabled'">
          <a class="page-link" (click)="back()">Zurück</a>
        </li>
        <li class="page-item active">
          <p class="page-link">{{ pageNo+1 }}</p>
        </li>
        <li class="page-item" [ngClass]="nextBooks.length == 0 && 'disabled'">
          <a class="page-link" (click)="next()">Weiter</a>
        </li>
      </ul>
    </nav>

    <div>
      <input (change)="updateBehind()" ngbButton type="checkbox" [(ngModel)]="behind" id="behind"/>
      <label for="behind">Nur Bücher im Verzug anzeigen</label>
    </div>

  </div>
  <table>
    <tr class="header">
      <th style="width: 160px">Inventar-Nr</th>
      <th style="width: 180px">ISBN</th>
      <th style="width: 300px">Titel</th>
      <th style="width: 250px">Autor</th>
      <th style="width: 200px">Verliehen seit</th>
    </tr>
    <tr *ngFor="let book of books" valign="middle" (click)="view(book)">
      <td>
        <p>{{ book.invnr}}</p>
      </td>
      <td>
        <p>{{ book.isbn }}</p>
      </td>
      <td>
        <p>{{ book.title }}</p>
      </td>
      <td>
        <p>{{ book.author }}</p>
      </td>
      <td colspan="2">
        <p *ngIf="book.borrowedOn && !book.returnedOn">{{ book.borrowedOn | date : 'dd.MM.yyyy'}}</p>
        <p *ngIf="!book.borrowedOn || book.returnedOn">-</p>
      </td>
    </tr>
  </table>
</div>
